---
title: 设计模式---享元模式
date: 2008-08-19 20:07:00
tags: 设计模式读书笔记
---
  1. using  System; 
  2. using  System.Collections.Generic; 
  3. using  System.Text; 
  4. using  System.Collections; 
  5.   6. namespace  ConsoleApplication1 
  7. { 
  8. class  MovieTheater 
  9. { 
  10. private  Hashtable movies=  new  Hashtable(); 
  11.   12. public  void  GiveMeAMovie(  string  name) 
  13. { 
  14. Movie m; 
  15. if  (movies.ContainsKey(name)) 
  16. { 
  17. m=(Movie)movies[name]; 
  18. } 
  19. else 
  20. { 
  21. m =  new  ConcreteMovie(name); 
  22. movies.Add(name,m); 
  23. } 
  24. m.ShowTheMovie(); 
  25. } 
  26.   27. public  void  HowManyMoviesHaveWeOrdered() 
  28. { 
  29. Console.WriteLine(movies.Count); 
  30. } 
  31. } 
  32.   33. abstract  class  Movie 
  34. { 
  35. protected  string  name; 
  36.   37. public  Movie(  string  n) 
  38. { 
  39. this  .name = n; 
  40. } 
  41.   42. public  abstract  void  ShowTheMovie(); 
  43. } 
  44.   45. class  ConcreteMovie : Movie 
  46. { 
  47. public  ConcreteMovie(  string  n) 
  48. :  base  (n) { } 
  49.   50. public  override  void  ShowTheMovie() 
  51. { 
  52. Console.WriteLine(name); 
  53. } 
  54. } 
  55.   56. class  Client 
  57. { 
  58. public  static  void  Main() 
  59. { 
  60. MovieTheater mth =  new  MovieTheater(); 
  61.   62. mth.GiveMeAMovie(  "Hell Boy"  ); 
  63. mth.GiveMeAMovie(  "Wanted"  ); 
  64. mth.GiveMeAMovie(  "Wall-E"  ); 
  65. mth.GiveMeAMovie(  "Hell Boy"  ); 
  66.   67. mth.GiveMeAMovie(  "Hell Boy"  ); 
  68. mth.GiveMeAMovie(  "Wanted"  ); 
  69. mth.GiveMeAMovie(  "Wall-E"  ); 
  70. mth.GiveMeAMovie(  "Hell Boy"  ); 
  71.   72. mth.HowManyMoviesHaveWeOrdered(); 
  73. Console.Read(); 
  74. } 
  75. } 
  76. } 
  77. ![](https://p-blog.csdn.net/images/p_blog_csdn_net/cuipengfei1/EntryImages/20080819/ClassDiagram1.jpg)



[ ![](https://profile.csdnimg.cn/5/2/5/3_cuipengfei1)
![](https://g.csdnimg.cn/static/user-reg-year/1x/11.png)
](https://blog.csdn.net/cuipengfei1)

[ 崔鹏飞 ](https://blog.csdn.net/cuipengfei1)

发布了127 篇原创文章  ·  获赞 8  ·  访问量 74万+

