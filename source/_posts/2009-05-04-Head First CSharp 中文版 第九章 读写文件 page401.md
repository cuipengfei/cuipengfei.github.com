---
title: Head First C# 中文版 第九章 读写文件 page401
date: 2009-05-04 21:59:00
tags: 我翻译的Head First C#（习作）
---
![](https://p-blog.csdn.net/images/p_blog_csdn_net/cuipengfei1/EntryImages/20090504/2009-05-04_21-22-35.jpg)

问：我还是不明白  StreamWriter  中用到的那些  {0}  和  {1}  。

  

答：当你要向文件中写入字符串的时候，你经常会发现你需要打印一些变量。例如，你可能会要写一些下面这样的内容：

writer.WriteLine("My name is"+name+"and my age is"+age);

这样会很冗长而且经常用加号容易出错。使用  {0}{1}  更有优势：

writer.WriteLine("My name is {0} and my age is {1}",name,age);

这样代码看起来简单多了，特别是里面有很多的变量的时候。

  

问：为什么在包含有文件名的字符串前面写上一个  @  ？

答：  Write  （）和  WriteLine  （）方法支持转义序列。这使得它很难表示文件名，因为文件名中有很多的反斜线。在字符串前面写一个  @
可以忽略掉转义序列。而且告诉  C#  在其中包含换行符，这样你就可以在字符串中键入回车，输出中也就会包含换行：

String twoLine = @  “  this is a string

that spans two lines  。”；

  

问：  /n  和  /t  什么意思来着？

答：转义序列。

  

问：把一个字符串转换为一个字节数组是怎么回事？它是怎么工作的？

答：你可能听说过磁盘上的文件是由比特和字节组成的。向磁盘写入文件的时候，操作系统会把它当做一个字节序列来处理。硬盘上的文件都是字节组成的。读取文件的程序决定
把字节解释为何种有意义的数据。

问：如果我用  StreamWriter  来写文件，我为什么要关心它它是否创建了一个  FileStream  ？

答：如果你只是在写文件，那没什么。如果你要做一些复杂的事情，就有可能要和别的流合作，单单一个  StreamWriter
不够用了，不过不用担心，我们接下来会学到如何做到这一点。

问：如果我想要创建自己的对话框要怎样呢？可以做到吗？

答：当然可以了。你可以把一个窗体设计为你想要的样子。然后创建它的实例并调用其  ShowDialog  （）方法来显示出来。

问：为什么用完流之后还需要关闭？

答：使用  Word  程序的时候打开文件的时候。有没有提示过你说“正忙”？一个程序使用一个文件的时候会把文件锁定来防止文件被别的程序访问。所以如果你不调用
Close  （）方法，那么你的程序就有可能锁定一个文件知道程序结束为止。



