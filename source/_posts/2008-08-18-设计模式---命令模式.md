---
title: 设计模式---命令模式
date: 2008-08-18 18:46:00
tags: 设计模式读书笔记
---
设计模式---命令模式

![d1fc651edbf349ec1ad5765a.jpg](http://hiphotos.baidu.com/yansuochonglou/pic/i
tem/d1fc651edbf349ec1ad5765a.jpg)

using System;  
using System.Collections.Generic;  
using System.Text;

namespace ConsoleApplication1  
{  
abstract class Order  
{  
protected General general;

public Order(General g)  
{  
this.general = g;  
}

public abstract void Excute();  
}

class Fire : Order  
{  
public Fire(General g)  
: base(g)  
{ }

public override void Excute()  
{  
general.ExcuteFire();  
}  
}

class Retreat : Order  
{  
public Retreat(General g)  
: base(g)  
{ }

public override void Excute()  
{  
general.ExcuteRetreat();  
}  
}

class Soldier  
{  
private String name;  
  
public Soldier(string n)  
{  
this.name = n;  
}  
  
public void ExcuteFire()  
{  
Console.WriteLine(name+"开火");  
}

public void ExcuteRetreat()  
{  
Console.WriteLine(name+"撤退");  
}  
}

class General  
{  
private Soldier soldier;  
  
public void ExcuteFire()  
{  
soldier.ExcuteFire();  
}

public void SetSoldier(Soldier s)  
{  
this.soldier = s;  
}

public void ExcuteRetreat()  
{  
soldier.ExcuteRetreat();  
}  
}

class Client  
{  
public static void Main()  
{  
General g = new General();  
Soldier s = new Soldier("张三");  
g.SetSoldier(s);  
Order o = new Fire(g);  
o.Excute();  
o = new Retreat(g);  
o.Excute();  
g.SetSoldier(new Soldier("李四"));  
o.Excute();  
Console.Read();  
}  
}  
}  



