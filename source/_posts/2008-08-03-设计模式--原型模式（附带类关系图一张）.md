---
title: 设计模式--原型模式（附带类关系图一张）
date: 2008-08-03 21:35:00
tags: 设计模式读书笔记
---
![原型模式](https://p-blog.csdn.net/images/p_blog_csdn_net/cuipengfei1/EntryImages
/20080803/ClassDiagram1.jpg)

using System;  
using System.Collections.Generic;  
using System.Text;

namespace ConsoleApplication1  
{  
public class Simple:ICloneable  
{  
private int field1;  
private int field2;  
  
public int Property1  
{  
get  
{  
return field1;  
}  
set  
{  
field1 = value;  
}  
}

public int Property2  
{  
get  
{  
return field2;  
}  
set  
{  
field2 = value;  
}  
}

public object Clone()  
{  
return this.MemberwiseClone();  
}  
  
}

public class Complecated:ICloneable  
{  
private Simple  simple;

public Complecated()  
{  
simple = new Simple();  
}

private  Complecated(Simple s)  
{  
simple = (Simple)s.Clone();  
}

public object  Clone()  
{  
Complecated c = new Complecated(simple );  
return c;  
}

public void  SetMe(int a,int b)  
{  
simple.Property1 = a;  
simple.Property2 = b;  
}

public void Show()  
{  
Console.WriteLine(simple.Property1);  
Console.WriteLine(simple.Property2);  
}  
}

public class Client  
{  
public static  void Main()  
{  
Complecated c = new Complecated();  
c.SetMe(1, 2);  
Complecated c2 = (Complecated )c.Clone();  
  
  
c2.SetMe(3, 4);

c.Show();  
c2.Show ();

Console.Read();

}  
}  
}  



