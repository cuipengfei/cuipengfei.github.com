---
title: Head First C# 中文版 图文皆译 第七章 接口和抽象类 page298
date: 2009-04-02 09:34:00
tags: 我翻译的Head First C#（习作）
---
![](https://p-blog.csdn.net/images/p_blog_csdn_net/cuipengfei1/EntryImages/20090402/2009-04-02_08-59-16.jpg) 捉迷藏的时间打了！在你原来的房子的基础上添加一些房间、藏匿地点还有添加一个和你捉迷藏的对手。

①  添加一个IHidingPlace接口

不需要做什么花哨的事情。任何一个实现了IHidingPlace接口的Location子类都可以让对手藏身。只需要一个描述藏身地点的字符串（比如“衣橱里”，“
床底下”等等）

★  给这个字符串一个get访问器，但是不要有set访问器--我们会在构造方法里面给它赋值，因为一旦一个房间有一个藏人的地方，就不再需要修改它了。

②  添加实现IHidingPlace的类

你还需要两个类：OutsideWithHidingPlace（继承Outside），还有RoomWithHidingPlace（继承Room）。还有，我们需
要让所有有门的房间都要有藏人的地点，所以这些类就要继承RoomWithHidingPlace而不是Room。

③  添加一个对手类

对手将会在房子里面随机的找一个藏身之地，你负责找到他。

★  他需要一个私有Location字段（叫做myLocation）来指明他身在何处，还有一个Random私有字段（叫做random）用来在需要随机移动的时
候使用。

★  构造方法接受起始地点的字符串，把myLocation指向该起始地点，并且给random实例化。他会在前院开始并且在藏身地点之间随机移动。游戏开始时他移
动十次。他遇到一个户外门的时候会弹一个硬币出去来判断要不要通过这扇门。

★  添加一个Move（）方法，它把对手从当前位置移动到新地点。首先，如果他处身于一个有门的房间，他会通过扔硬币的方式决定要不要通过门，所以如果random
.Next（2）等于1，他会通过门。然后他会在当前地点的门里随机选择一个并通过。如果当前房间没有藏身地，他会再次随机选择当前地点的出口来进入下一个地点，反复
这样直到找到藏身地。

★  添加一个Check（）方法，它接受一个地点作为参数，如果参数是他所在的地点，返回true，否则返回false。

④  给房子添加更多房间

升级CreateObjects（）方法来添加更多房间：

★  添加一个木栏杆的楼梯，它通向楼上的走廊，走廊里有一副狗的图片和一个衣橱可以藏身。

★  楼上的走廊通着三个房间：主卧室，内有一张大床。次卧室，内有小床一张。浴室，内有水槽和厕所。床下面和淋浴室里都可以藏身。

★  前院和后院都连接着车道，车道上的车库里可以藏身。还有，花园里的棚里也可藏身。



[ ![](https://profile.csdnimg.cn/5/2/5/3_cuipengfei1)
![](https://g.csdnimg.cn/static/user-reg-year/1x/11.png)
](https://blog.csdn.net/cuipengfei1)





