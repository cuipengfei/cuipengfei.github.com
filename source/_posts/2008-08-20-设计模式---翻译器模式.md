---
title: 设计模式---翻译器模式
date: 2008-08-20 20:49:00
tags: 设计模式读书笔记
---
![](/images/images/p_blog_csdn_net/cuipengfei1/EntryImages/20080820/ClassDiagram1.jpg)

```
using System;
using System.Collections.Generic;
using System.Text;

namespace ConsoleApplication1
{
    abstract class Expretion
    {
        public void Translate(Words w)
        {
            string s = w.MyWords.Substring(0, 1);
            w.MyWords = w.MyWords.Substring(2);
            Excute(s);
        }

        public abstract void Excute(string s);
    }

    class EnglishExpretion : Expretion
    {
        public override void Excute(string s)
        {
            switch (s)
            {
                case "e":
                    Console.WriteLine("对方说的英语");
                    break;
            }
        }
    }

    class GermanExpretion : Expretion
    {
        public override void Excute(string s)
        {
            switch (s)
            {
                case "g":
                    Console.WriteLine("对方说的德语");
                    break;
            }
        }
    }

    class Words
    {
        private string words;

        public string MyWords
        {
            get { return words; }
            set { words = value; }
        }
    }

    class Client
    {
        public static void Main()
        {
            Words w = new Words();
            w.MyWords = "e g e e g ";
            Expretion e = null;
            while (w.MyWords.Length > 0)
            {
                switch (w.MyWords.Substring(0, 1))
                {
                    case "e":
                        e = new EnglishExpretion();
                        break;
                    case "g":
                        e = new GermanExpretion();
                        break;
                }

                e.Translate(w);
            }

            Console.Read();
        }
    }
}
```
