---
title: 深入浅出C# 中文版 图文皆译 第三章 page114
date: 2008-12-16 11:05:00
tags: 我翻译的Head First C#（习作）
---
![](https://p-blog.csdn.net/images/p_blog_csdn_net/cuipengfei1/EntryImages/20081216/%E6%88%AA%E5%9B%BE00.jpg)

你自己来通过设置Name和Cash属性来使得Joe和Bob以50和100美元开始。把它写在InitializeComponent（）下面。
<?xml:namespace prefix = o ns = "urn:schemas-microsoft-com:office:office" />

![](https://p-blog.csdn.net/images/p_blog_csdn_net/cuipengfei1/EntryImages/20081216/%E6%88%AA%E5%9B%BE01.jpg)

![](https://p-blog.csdn.net/images/p_blog_csdn_net/cuipengfei1/EntryImages/20081216/%E6%88%AA%E5%9B%BE02.jpg)

![](https://p-blog.csdn.net/images/p_blog_csdn_net/cuipengfei1/EntryImages/20081216/%E6%88%AA%E5%9B%BE03.jpg)

问：为什么上面的解答没有以“Guy bob=new Guy（）”开始？为什么没有写“Guy”？

答：因为在窗体开始处你已经声明过bob变量了。还记得“int i = 5”这个语句与“int i”和“i =
5”这两个语句是一样的吗？这儿也一样。你可以在一行中来声明bob变量，就像这样：“Guy bob = new
Guy（）”。但是你已经写了这个语句的前半部分（“Guy bob；”）了。所以现在只需要这一行的后半部分了，就是设置把bob变量设置为Guy实例的语句。

问：好。那为什么不把窗体开头儿的“Guy bob；”这一行删掉呢？

答：那样的话bob变量就只会存在于“public Form1（）”这个方法里了。在方法内部声明变量，这个变量只在方法内部有效--
在别的方法里面不能访问。但是如果你在方法外的窗体里或者一个类里声明变量，那么你就可以在该窗体或类的其他方法里面访问这个变量。

问：如果我在方法内也写一个“Guy”会怎么样？

答：那就麻烦了--你的窗体无法工作，因为窗体的bob变量根本就没被赋值。考虑一下，你就知道为什么会这样了。如果你的窗体开头儿这样写：

Public partial class Form1:Form { Guy bob;

然后在方法里这样写：

Guy bob = new Guy();

这样你就声明了两个同名的变量了，这有点混乱。一个在整个窗体中可访问，另一个--在方法内部添加的那个--只在方法内部可访问。下一行（bob.Name =
“Bob”；）只会更新局部变量，不会触及窗体级的变量。所以运行的时候，你会收到一个讨厌的错误（“NullReferenceException not
handled”），意思就是说你尝试在给变量用new语句赋值之前使用它。



