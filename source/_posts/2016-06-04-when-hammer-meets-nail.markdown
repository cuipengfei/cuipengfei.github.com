---
layout: post
title: "当锤子遇到钉子"
date: 2016-06-04 16:58
comments: true
categories: 
---

#锤子　JS Promise

最近对JS社区里的Promises/A+规范产生了很浓的兴趣,自己把它实现了一遍:[https://www.npmjs.com/package/RWPromise](https://www.npmjs.com/package/RWPromise)

然后在武汉run了3次workshop:[http://cuipengfei.me/blog/2016/05/15/promise/](http://cuipengfei.me/blog/2016/05/15/promise/)。

感觉Promise这套东西确实蛮不错的,给异步算法的编写者和异步算法的消费者之间提供了一套统一的沟通手段,也为异步算法的消费者提供了更悦目的代码组织方式。

手里有了这么一把锤子就总想找个钉子敲一敲。

#钉子　《异类》

无巧不成书,刚好最近在豆瓣上买了一本叫做《异类》的书在看:　[https://read.douban.com/ebook/10580943/](https://read.douban.com/ebook/10580943/)

书中一开篇就提到了关于加拿大冰球运动员选拔机制的很有趣的一件事:

> 
职业青年队绝大多数球员的生日集中在1月、2月和3月，这实在有点不可思议
>
加拿大冰球队按年龄分组所依据的分界线是1月1日，即从1月1日到当年12月31日之间出生的球员将会被分在同一组。也就是说，一个1月1日出生的选手，是在跟许多年纪比他小的队友争夺晋级权——在青春期到来之前，由于有将近12个月的年龄差距，球员之间在生理成熟度上将会表现出巨大的差异。
>
正如冰球队员的成长经历一样，因年龄大几个月而显现的微弱优势会在孩子的成长过程中不断积累，最终引导孩子走向成功或不成功，自信或不自信的轨道中，其影响会延伸许多年。

能否成为加拿大冰球运动明星竟然和出生月份有关系,假想如果你运动天赋非常好,但是不幸出生在12月,于是不得不从小和大你将近一岁的少年运动员一起训练。

表现难免显得不那么出色,不受教练待见,得不到正面反馈,出场坐冷板凳。。。逐渐逐渐,伤仲永。

实在是太有趣了。

由此就联想到了,到TW来工作的人其出生月份是否也存在什么规律呢?

#Facehub

一下就想到了Facehub这个网站可以提供生日信息。

铺天盖地的广告宣传,每次看到觉得审美都疲劳了,能用到的时候第一个就想到了它。广告的作用,诚不我欺。

于是我就写了这么个脚本:　[https://github.com/cuipengfei/Spikes/blob/master/js/birth/birth.js](https://github.com/cuipengfei/Spikes/blob/master/js/birth/birth.js)

其中使用Promise把大量的异步Http请求组织起来,然后分析其结果。

(注:如果需要自己跑这个脚本,需要把第七行的token替换成你自己的合法值)


```javascript
获取到用户数量 316
[ { '出生月份': '11', percentage: 11.708860759493671 },
  { '出生月份': '10', percentage: 11.708860759493671 },
  { '出生月份': '8', percentage: 10.126582278481013 },
  { '出生月份': '3', percentage: 8.860759493670885 },
  { '出生月份': '2', percentage: 8.544303797468354 },
  { '出生月份': '9', percentage: 7.9113924050632916 },
  { '出生月份': '1', percentage: 7.9113924050632916 },
  { '出生月份': '7', percentage: 7.2784810126582276 },
  { '出生月份': '6', percentage: 7.2784810126582276 },
  { '出生月份': '4', percentage: 7.2784810126582276 },
  { '出生月份': '5', percentage: 6.012658227848101 },
  { '出生月份': '12', percentage: 5.379746835443038 } ]
```

由此可以看到,来TW工作的人,11月,10月,8月出生的最多,12月出生的最少。

由于样本量不是太大(316人),所以统计数据的含义还不太好说。
我猜测:8,10,11月出生的人在参与TW的招聘的时候或许是具备某些特殊的优势的,具体是什么我暂时猜不到。

(注:以上统计数据与各月份人口出生率并不是符合的。

>
全国人口普查都会有月份分布的数据。
抽06年的来看，1月份占8.6%，2月份占8.4%，3月份占7.7%，4月份占7.1%，5月份占6.9%，6月份占7.3%，7月份占7.4%，8月份占8.3%，9月份占8.8%，10月份占10.5%，11月份占9.8%，12月份占9.3%。从大体上看是秋天和冬天出生的人多，春天和夏天出生的人少。

>
作者：GraceG
链接：https://www.zhihu.com/question/19795511/answer/12986633
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

)

既然已经有了这份代码,可以统计出生月份,索性再统计些其他侧面的数据:

```javascript
[ { '星座': '天秤', percentage: 12.025316455696203 },
  { '星座': '狮子', percentage: 10.443037974683545 },
  { '星座': '天蝎', percentage: 9.81012658227848 },
  { '星座': '双鱼', percentage: 9.49367088607595 },
  { '星座': '双子', percentage: 8.544303797468354 },
  { '星座': '水瓶', percentage: 8.544303797468354 },
  { '星座': '摩羯', percentage: 7.9113924050632916 },
  { '星座': '巨蟹', percentage: 7.9113924050632916 },
  { '星座': '处女', percentage: 6.962025316455696 },
  { '星座': '白羊', percentage: 6.962025316455696 },
  { '星座': '射手', percentage: 6.329113924050633 },
  { '星座': '金牛', percentage: 5.063291139240507 } ]
```

可见天秤和狮子座的最多,金牛座的最少。

```javascript
[ { '入职月份': '7', percentage: 14.240506329113925 },
  { '入职月份': '4', percentage: 14.240506329113925 },
  { '入职月份': '8', percentage: 11.075949367088606 },
  { '入职月份': '3', percentage: 10.759493670886076 },
  { '入职月份': '6', percentage: 8.544303797468354 },
  { '入职月份': '5', percentage: 7.9113924050632916 },
  { '入职月份': '12', percentage: 6.329113924050633 },
  { '入职月份': '2', percentage: 6.329113924050633 },
  { '入职月份': '1', percentage: 6.329113924050633 },
  { '入职月份': '11', percentage: 6.012658227848101 },
  { '入职月份': '9', percentage: 4.430379746835443 },
  { '入职月份': '10', percentage: 3.79746835443038 } ]
```

入职日期,3,4月和7,8月最多,9,10月最少。

虽然最后也没有根据统计数据得到什么惊人的发现。但是能让锤子和钉子相遇还是挺好玩的。